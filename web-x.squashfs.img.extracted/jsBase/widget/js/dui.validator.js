!function(a){function b(b,d,e,f){var g=!0;return a.each(d,function(d,h){return c(b,h,e[d],f)?void a(b).removeClass("invalid"):(g=!1,a(b).addClass("invalid"),!1)}),g}function c(b,c,d,e){var f=c(b.val(),b),g=null;return e?g=b.nextAll(e).eq(0):(g=b.data("errorElem"),g||(g=a('<span class="u-input-error fn-color-red"></span>'),b.data("errorElem",g),b.after(g))),g.attr("t",d).text(d).toggle(!f),f}function d(b){return"string"==a.type(b)?a(b):b}function e(b){var c=b.check,d=b.errorMsg,e=b.events,f={};return a.isArray(c)?a.each(c,function(b,c){var g,h;h=a.isArray(e)?e[b]:e,a.each(h.split(/\s+/g),function(e,h){g=f[h]||{},g.check=g.check||[],g.errorMsg=g.errorMsg||[],g.check.push(c),g.errorMsg.push(a.isArray(d)?d[b]:d),f[h]=g})}):f[e]={check:[c],errorMsg:[d]},f}a.validator=function(b,c){return new a.validator.init(b,c)},a.validator.init=function(c,f){this.fields=c,this.errorHandle=f,a.each(c,function(c,g){var h=d(g.element),i=e(g);h.data("eventMap",i),a.each(i,function(c,d){i.hasOwnProperty(c)&&h.on(c,function(){var c=b(a(this),d.check,d.errorMsg,g.errorElem);c||f&&f(h)})})})},a.validator.prototype=a.validator.init.prototype={validate:function(){var c=this;a.each(this.fields,function(e,f){var g=d(f.element),h=g.data("eventMap");h&&a.each(h,function(d){h.hasOwnProperty(d)&&a.each(g,function(e,g){return b(a(g),h[d].check,h[d].errorMsg,f.errorElem)?void 0:(c.errorHandle&&c.errorHandle(a(g)),!1)})})})},isInvalid:function(){var b=this;return b.errorInfo=[],a.each(this.fields,function(c,f){var g=d(f.element),h=e(f);for(var i in h)if(h.hasOwnProperty(i)){var j=h[i].check,k=h[i].errorMsg;a.each(j,function(c,d){a.each(g,function(e,f){var g=d(a(f).val(),a(f));g===!1&&b.errorInfo.push({check:d,errorMsg:k[c]})})})}}),0!==b.errorInfo.length},errors:function(){return this.errorInfo||this.isInvalid(),this.errorInfo}}}(jQuery);