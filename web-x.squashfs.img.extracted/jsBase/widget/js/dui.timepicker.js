!function(a,b){function c(a,b){return((1<<b).toString(2)+a).slice(-b)}function d(){this._render()}function e(){return null===f&&(f=new d),f}d.prototype={_render:function(){var b=this,d=a('<div class="u-timepicker"></div>');d.append(this._getHead()),d.append(this._getTimeSlider()).trans_wgt(),a(document.body).append(d);var e=["hour","minute","second"];d.find("input").each(function(c){b[e[c]+"Input"]=a(this)}),d.find(".u-slider").each(function(d){var f=0===d?23:59,g=e[d];b[g+"Slider"]=a(this).slider({min:0,max:f,prompt:!1,change:function(a,d){var e=c(d.value,2);b[g+"Input"].val(e),b[g]=e}})}),this.element=d,this.bind()},bind:function(){var b=this;b.element.find("a[data-for]").addClass("u-button").click(function(){var c=a(this).attr("data-for");"cTime"==c&&b._setCurrTime(),b.detach()})},_getHead:function(){var a='<input type="text" value="00" maxlength="2">',b="<span>:</span>",c='<a class="u-button">',d="</a>",e='<div class="time">'+a+b+a+b+a+"</div>",f='<div class="ampm">'+c+"AM"+d+c+"PM"+d+"</div>";return'<div class="header">'+e+f+"</div>"},_getTimeSlider:function(){var b=["<table>"];return a.each(["Hour","Min","Sec"],function(a,c){b.push("<tr><td wgt="+c+"></td>"),b.push('<td><div class="u-slider"></div></td></tr>')}),b.push('<tr><td colspan="2"><a data-for="cTime" wgt="Current"></a><a data-for="ok" wgt="Yes"></a></td></tr>'),b.push("</table>"),b.join("")},_getTime:function(){var a=this;return a.hour+":"+a.minute+":"+a.second},_setCurrTime:function(){var a=new Date,b=a.getHours(),c=a.getMinutes(),d=a.getSeconds();this._setTime(b,c,d)},_setTime:function(a,b,c){var d=this;d.hourSlider.slider("value",a),d.minuteSlider.slider("value",b),d.secondSlider.slider("value",c)},attach:function(c){var d=this,e=c.offset(),f=e.left,g=e.top+c.outerHeight(!0)+1;d.element.css({top:g,left:f}),d.attachElem=c;var h,i,j,k;if(h=c.val()){var l=h.split(":");3===l.length&&(i=l[0]-0,j=l[1]-0,k=l[2]-0)}i===b&&(h=new Date,i=h.getHours(),j=h.getMinutes(),k=h.getSeconds()),d._setTime(i,j,k),a(document).on("click.timepicker",function(b){if(!a(b.target).data("dui-timepicker")){var c=a(b.target).closest(".u-timepicker");c.length||d.detach.call(d,!1)}})},detach:function(){var b=this;a(document).off("click.timepicker"),b.element.css({top:"-10000px",left:"-10000px"}),b.attachElem.val(b._getTime())}};var f=null;a.widget("dui.timepicker",{version:"1.0.1",widgetName:"timepicker",widgetEventPrefix:"timepicker",options:{format:"yyyy-mm-dd"},_create:function(){this.timepicker=e(),this._on(this._handleEvents),this.element.toggleClass("u-input",!0).toggleClass("i-time",!0)},_handleEvents:{focus:function(){this.timepicker.attach(this.element)}}})}(jQuery);