!function(a){"use strict";var b={},c={},d=function(a){return a.slice(0)};a.subscribe=function(d,e,f){var g,h={};return f=f||c,"string"===a.type(d)&&a.isFunction(e)?(g=d.split(" "),a.each(g,function(a,c){return""===c||h[c]?!0:(h[c]=!0,b[c]||(b[c]=[]),void b[c].push([e,f]))}),{topics:d,callback:e,context:f}):null},a.unsubscribe=function(d,e,f){var g,h={};return d&&("string"===a.type(d)||d.topics&&"string"===a.type(d.topics))?(d.topics&&(e=e||d.callback,f=f||d.context,d=d.topics),f=f||c,g=d.split(" "),a.each(g,function(c,d){var g=b[d];return""===d||!g||h[d]?!0:(h[d]=!0,void(e&&a.isFunction(e)?a.each(g,function(a,b){return b[0]===e&&b[1]===f?(g.splice(a,1),!1):void 0}):delete b[d]))}),a):a},a.publish=function(c,e){if(!c||"string"!==a.type(c))return a;var f=c.split(" ");return a.each(f,function(c,f){if(""===f)return!0;if(b[f]){var g=d(b[f]);a.each(g,function(a,b){b[0].call(b[1],f,e)})}}),a}}(jQuery);