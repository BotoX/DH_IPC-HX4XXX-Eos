function loadHtmlFile(a,b,c,d){d=d?"?version="+d:"";var e=new Request.HTML({url:a+d,onSuccess:function(a,c,d){b(d)},onFailure:function(){c()}});e.get()}function limit(a,b){var c=a.value;""!=c&&(a.value=/[^\d]/g.test(c)?c.replace(/[^\d]/g,"")-0:a.value-0,c=a.value,c>b&&(a.value=b))}function limitEx(a,b){var c=a.value;/[^\d]/g.test(c)?(c=c.replace(/[^\d]/g,"")-0,a.value=c):c=a.value-0,c>b&&(a.value=b)}function limitMin(a,b){var c=a.value;/[^\d]/g.test(c)&&(a.value=c.replace(/[^\d]/g,"")-0),c=a.value,""==c?a.value=b:b>c&&(a.value=b)}function limitTime(a,b){var c=a.value;if(c=c.replace(/[^\d]/g,""),c-0>b&&(a.value=b),c=a.value,c.length>=2&&""!=a.id){var d=$(a.id).getNext("input");d&&d.select()}}function parsrTimeEx(a){var b;if(a){var c=a.trim().split(" "),d=c[1].split("-"),a=d[0].split(":"),e=d[1].split(":");b=[c[0]-0,a[0]-0,a[1]-0,a[2]-0,e[0]-0,e[1]-0,e[2]-0]}else b=[0,0,0,0,24,0,0];return b}function chkTime(a,b,c,d){d=d||event;var e,f=c.toString().length,g=$(a+b);g.value=g.value.replace(/[^\d]/g,"");var h=d.keyCode;if(37==h||39==h||9==h){if(g.blur(),37==h&&(e=b-1),39==h&&(e=b+1),9==h){if($(a+(b-1))){var i=$(a+(b-1)).value-0;10>i&&($(a+(b-1)).value="0"+i),$(a+b).select()}else $(a+b).select();return}if(e>2||0>e)return;var i=g.value-0;return 10>i&&(g.value="0"+i),void $(a+e).select()}if(g.value.length>=f)if(parseInt(g.value)>c){if(g.value=c,e=b+1,e>2||0>e)return;$(a+e).select()}else if(parseInt(g.value)<0)g.value="00";else{if(g.blur(),e=b+1,e>2||0>e)return;var i=g.value-0;10>i&&(g.value="0"+i),$(a+e).select()}}var Dialog=new Class({initialize:function(a,b,c,d,e,f){this.sid=a,this.obj=$(a),this.Width=$(a).offsetWidth,this.Height=$(a).offsetHeight,this.okButton=$(void 0==c?"d_confirm":c),this.closeButtion=$(void 0==d?"d_close":d),this.isIE=-1!=navigator.userAgent.toLowerCase().indexOf("msie"),this.isIE6=-1!=navigator.userAgent.toLowerCase().indexOf("msie 6.0");var g=document.documentElement.clientWidth,h=document.documentElement.clientHeight;this.Left=((g-this.Width)/2+50>0?(g-this.Width)/2+50:150).round(),this.Top=((h-this.Height)/2-40>0?(h-this.Height)/2-40:100).round();var j=function(){var a=document.getElementsByTagName("SELECT");for(i=0;a&&i<a.length;i++)a[i].style.visibility="hidden";var b=this.obj.getElementsByTagName("SELECT");for(i=0;b&&i<b.length;i++)b[i].style.visibility="visible"};this.hideSelectBoxes=j;var k=function(){var a=document.getElementsByTagName("SELECT");for(i=0;a&&i<a.length;i++)a[i].style.visibility="visible"};this.displaySelectBoxes=k;var l=$(a).getElement(".ui-dialog-icon");l&&(f?l.addEvent("click",f):l.addEvent("click",function(){this.isIE6&&k(),$(a).style.top="-10000px",jQuery.unmask("body")}));var m=$(a).getElement(".ui-dialog-title h1");m&&m.setProperty("text",e||""),this.okButton&&b&&this.okButton.addEvent("click",b),this.closeButtion&&(f?this.closeButtion.addEvent("click",f):this.closeButtion.addEvent("click",function(){this.isIE6&&k(),$(a).style.top="-10000px",jQuery.unmask("body")})),jQuery("#"+a).detach().prependTo(document.body)},setPosition:function(a,b){this.Left=a,this.Top=b,this.isIE6&&(this.Left=a-20,this.Top=b-130)},setTitle:function(a){var b=$(this.sid).getElement(".ui-dialog-title h1");b&&b.setProperty("text",a)},show:function(){jQuery.mask("body"),this.isIE6&&this.hideSelectBoxes(),this.obj.style.top=this.Top+"px",this.Left&&(this.obj.style.left=this.Left+"px")},close:function(){this.closeButtion?this.closeButtion.fireEvent("click"):(this.isIE6&&this.displaySelectBoxes(),this.obj.style.top="-10000px",jQuery.unmask("body"))}});Element.implement({translation:function(a){var b=this.getElements("[t]"),c=function(b){return"function"==$type(a)?a(b):0==$type(a)?"function"==typeof tl?tl(b):b:a[b]};return b.push(this),b.each(function(a){var b,d=a.getProperty("t");d&&(b=d.split(";"),b.each(function(b){var d=b.split("::");1===d.length&&(d[1]=d[0],d[0]="text");var e=d[1].split("+"),f="";e.each(function(a){f+=c(a)}),a.setProperty(d[0],f)}))}),this}});