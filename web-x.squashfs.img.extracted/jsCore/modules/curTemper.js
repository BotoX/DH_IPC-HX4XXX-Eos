!function(a){define(function(require,b,c){function d(b){var c=this;c.options=a.extend({},g,b),c.render()}var e=require("../plugin"),f=(require("../ability"),require("../rpc")),g={},h=null;a.fn.curTemper=function(){var b=arguments[0],c=2<=arguments.length?Array.prototype.slice.call(arguments,1):[],e=this;return this.each(function(){if(!("string"!==a.type(b)||h&&a.isFunction(h[b])))return!1;if("string"===a.type(b)){var f=h[b].apply(a(this),c);if(void 0!==f)return e=f,!1}else"string"===a.type(b)||h||(h=new d)}),e},d.prototype.render=function(){return e.windowId||1==webApp.CHANNEL_NUMBER?(e.clearShape(e.containerId,e.shapeId),void e.creatShape("ReSpot","green")):void f.ConfigManager.getConfig("CalibratePoints").done(function(a){a.Enable&&(e.clearShape(e.containerId,e.shapeId),e.creatShape("ReSpot","green"))}).fail(function(){e.clearShape(e.containerId,e.shapeId),e.creatShape("ReSpot","green")})},d.prototype.getTemper=function(a){if(a.EventParam.ShapeData){var b=a.EventParam.ShapeData[0];f.RadiometryManager.getRandomPointTemper(b,e.windowId).done(function(a){var b=a.params.pointTempInfo,c="Centigrade"==b.TemperatureUnit?"°C":"°F";b=b.TemperAver.round(2)+c,e.ResetOneIntelShapeData(e.shapeId,b)}).fail(function(){var a="N/A";e&&e.ResetOneIntelShapeData(e.shapeId,a)})}},d.prototype.leave=function(){e.DeleteAllIntelShape(e.containerId)},d.prototype.destroy=function(){h=null,e.DeleteAllIntelShape(e.containerId)},c.exports=d})}(jQuery);