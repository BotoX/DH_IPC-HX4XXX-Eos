local Protocol = {};

-- 表示数值可以用16或10进制(最小值，最大值)
Protocol.Attr =
{
	-- 协议的显示名称,不能超过16字符，目前暂不支持中文
	Name = "PELCOD-S1",

	-- 指明是云台协议还是矩阵协议，使用"PTZ", "MATRIX"表示
	Type = "PTZ",

	-- 以ms为单位
	Internal = 200,

	-- 没有对应的地址范围，请都设成0xff
	-- 云台地址范围
	CamAddrRange 		= {0x00, 0x1F},
	-- 监视地址范围
	MonAddrRange		= {0x00, 0xFF},
	-- 预置点范围
	PresetRange 		= {0x01, 0xFF},
	-- 自动巡航线路范围
	TourRange		= {0x00, 0xff},
	-- 轨迹线路范围
	PatternRange		= {0x00, 0xff},
	-- 垂直速度范围
	TileSpeedRange 		= {0x00, 0x3F},
	-- 水平速度范围
	PanSpeedRange 		= {0x00, 0x3F},
	-- 自动扫描范围
	ScanRange 			= {0x01, 0xff},
	-- 辅助范围
	AuxRange 		= {0x01, 0x08},
}

Protocol.CommandAttr =
{
	-- 协议中需要更改的位置，用LUA下标表示，即下标从１开始,用10进制表示
	AddrPos 		= 2,
	PresetPos 		= 6,
	TileSpeedPos 		= 6,
	PanSpeedPos 		= 5,
	AuxPos 			= 6,
}

Protocol.Command =
{
	-- 写具体协议时只能用16进制或字符表示,没有的话就注释掉
	Start=
	{
		--写上下左右, 左上，左下，右上，右下
		TileUp 		= "0xFF, 0x00, 0x00, 0x08, 0x00, 0x00, 0x00",
		TileDown 	= "0xFF, 0x00, 0x00, 0x10, 0x00, 0x00, 0x00",
		PanLeft 	= "0xFF, 0x00, 0x00, 0x04, 0x00, 0x00, 0x00",
		PanRight 	= "0xFF, 0x00, 0x00, 0x02, 0x00, 0x00, 0x00",
		LeftUp 		= "0xFF, 0x00, 0x00, 0x0C, 0x00, 0x00, 0x00",
		LeftDown 	= "0xFF, 0x00, 0x00, 0x14, 0x00, 0x00, 0x00",
		RightUp		= "0xFF, 0x00, 0x00, 0x0A, 0x00, 0x00, 0x00",
		RightDown 	= "0xFF, 0x00, 0x00, 0x12, 0x00, 0x00, 0x00",

		ZoomWide 	= "0xFF, 0x00, 0x00, 0x40, 0x00, 0x00, 0x00",
		ZoomTele 	= "0xFF, 0x00, 0x00, 0x20, 0x00, 0x00, 0x00",
                FocusNear       = "0xFF, 0x00, 0x01, 0x00, 0x00, 0x00, 0x00",
                FocusFar        = "0xFF, 0x00, 0x00, 0x80, 0x00, 0x00, 0x00",
                IrisSmall       = "0xFF, 0x00, 0x04, 0x00, 0x00, 0x00, 0x00",
                IrisLarge       = "0xFF, 0x00, 0x02, 0x00, 0x00, 0x00, 0x00",

                TileUpZoomWide 	 =  "0xFF, 0x00, 0x00, 0x48, 0x00, 0x00, 0x00",
		TileDownZoomWide =  "0xFF, 0x00, 0x00, 0x50, 0x00, 0x00, 0x00",
		PanLeftZoomWide  =  "0xFF, 0x00, 0x00, 0x44, 0x00, 0x00, 0x00",
		PanRightZoomWide =  "0xFF, 0x00, 0x00, 0x42, 0x00, 0x00, 0x00",
		LeftUpZoomWide 	 =  "0xFF, 0x00, 0x00, 0x4c, 0x00, 0x00, 0x00",
		LeftDownZoomWide =  "0xFF, 0x00, 0x00, 0x54, 0x00, 0x00, 0x00",
		RightUpZoomWide	 =  "0xFF, 0x00, 0x00, 0x4a, 0x00, 0x00, 0x00",
		RightDownZoomWide=  "0xFF, 0x00, 0x00, 0x52, 0x00, 0x00, 0x00",

                TileUpZoomTele   =  "0xFF, 0x00, 0x00, 0x28, 0x00, 0x00, 0x00",
		TileDownZoomTele =  "0xFF, 0x00, 0x00, 0x30, 0x00, 0x00, 0x00",
		PanLeftZoomTele  =  "0xFF, 0x00, 0x00, 0x24, 0x00, 0x00, 0x00",
		PanRightZoomTele =  "0xFF, 0x00, 0x00, 0x22, 0x00, 0x00, 0x00",
		LeftUpZoomTele   =  "0xFF, 0x00, 0x00, 0x2c, 0x00, 0x00, 0x00",
		LeftDownZoomTele =  "0xFF, 0x00, 0x00, 0x34, 0x00, 0x00, 0x00",
		RightUpZoomTele  =  "0xFF, 0x00, 0x00, 0x2a, 0x00, 0x00, 0x00",
		RightDownZoomTele = "0xFF, 0x00, 0x00, 0x32, 0x00, 0x00, 0x00",


	},
	Stop =
	{
		TileUp 		= "0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00",
		TileDown 	= "0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00",
		PanLeft 	= "0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00",
		PanRight 	= "0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00",
		LeftUp 		= "0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00",
		LeftDown 	= "0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00",
		RightUp		= "0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00",
		RightDown 	= "0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00",

		ZoomWide 	= "0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00",
		ZoomTele 	= "0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00",
                FocusNear       = "0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00",
                FocusFar        = "0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00",
                IrisSmall       = "0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00",
                IrisLarge       = "0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00",

        TileUpZoomWide 	 =  "0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00",
		TileDownZoomWide =  "0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00",
		PanLeftZoomWide  =  "0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00",
		PanRightZoomWide =  "0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00",
		LeftUpZoomWide 	 =  "0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00",
		LeftDownZoomWide =  "0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00",
		RightUpZoomWide	 =  "0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00",
		RightDownZoomWide=  "0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00",

        TileUpZoomTele   =  "0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00",
		TileDownZoomTele =  "0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00",
		PanLeftZoomTele  =  "0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00",
		PanRightZoomTele =  "0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00",
		LeftUpZoomTele   =  "0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00",
		LeftDownZoomTele =  "0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00",
		RightUpZoomTele  =  "0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00",
		RightDownZoomTele = "0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00",
	},
}

Protocol.Checksum = function (s)
	s[7] = math.mod((s[2] + s[3] + s[4] + s[5] + s[6]), 256);

	return s;
end;

Protocol.CamAddrProcess = function(s, addr)
	local addr = math.mod(addr,256);
		s[2] = addr;
	return s;
end;

Protocol.SpeedProcess = function(s, ver, hor)
	if s[4] ~= 0x00 then
		s[6] = ver;
		s[5] = hor;
	end;

	return s;
end;

return Protocol;